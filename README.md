# **Malware Detection Application**

#### **AI Summative Project**

## **Project Description**

_Description here_

## **Important Links**

- [Application Video Demo](https://drive.google.com/file/d/1fu3hooo_7Zw_wP_1bxGtjJQpXIzngAVu/view?usp=share_link)
- [Hosted Web Application](https://malware-detection-app.onrender.com/)
  - **Side Note**: On initial visitation of the web platform, kindly wait at least 3 minutes for the web service to start up
- Google Colab Notebooks
  - [Extracting data for training and testing](https://colab.research.google.com/drive/1y7lA0WFrem2W-goArwzhsvzsVnWI0Pr3?usp=sharing)
  - [Training, Optimising and Validating the model](https://colab.research.google.com/drive/1N8kSbeaxx1lisoHFcjtLc0peVaRadvN9?usp=sharing)
  - [Testing the Model](https://colab.research.google.com/drive/1mfpbKLoNgYpNerZlMZvyFBDung-3LoAo?usp=sharing)
 - Other Models we tested: 
  - _Add links to other model notebooks_

## **Deployment Instructions**

### **Local Deployment**
**STEPS TAKEN FOR LOCAL DEPLOYMENT**

For deploying our application we used **flask** which is a popular Python web framework that allows you to easily create web applications. 

- Save the trained model: Once our model is trained, we save it to a file format that can be loaded later during deployment. We have formats which include pickle and joblib.

- Defining endpoints: We created an html form with css to get information from our users that will be used by our model.

- Libraries : We then installed necessary libraries like FLASK ,lightGBM for our model and scikitlearn.
	
- Set up a Flask application: We created a new Flask application to include the necessary routes to the model and endpoints by retrieving data from our form for your machine learning model. 

- Preprocessing before prediction: We retrieved the data from our html form and processed it in terms changing numerical values to floats/integers and scaling them and encoding categorical data before passing them to the model.And then we changed the data into a numpy array that will be used by our model.

- Model performance:Then we passed the values to the model and tested it to different values to make sure the model is performing well.

### **RUNNING THE MODEL LOCALLY:**

- Run **app.py** file  and follow the link provided to access the application.


### **Platform Deployment**

These instructions are for deploying a Python Flask application on a web platform called Render, using Gunicorn to serve the app in a production setting.

**Resources/Platforms used:**

- Render Hosting Platform
- Github
- VSCode
- Python 3.10
- Flask 2.2.3

**Step 1:** Create a requirements.txt file

The requirements.txt file is required by render to install the necessary depedencies for hosting the application.
Although it is already created for this project. These are the steps to create it.

1.  In the VScode terminal, navigate to the project's root directory.
2.  Run the following command 

    `pip freeze > requirements.txt`

**Step 2:** Create a gunicorn configuration file

The gunicorn configuration file allows setting of parameters gunicorn will use to deploy the application.
Although it is already created for this project. These are the steps to create it.

1.  In the VSCode terminal, navigate to the project's root directory.
2.  Run the following command
    
    `touch gunicorn_config.py`

    _N.B. You can also create it manually from the code editor with the root directory._

3. Open the gunicorn_config.py file in the VSCode editor and add the following parameters 

    ```
    bind = "0.0.0.0:5000"
    workers = 3
    timeout = 180
    worker_class = "gthread"
    ```

**Step 3:** Upload code to a github repository

**Step 4:** Create account on the Render platform
    
[Render platform](https://render.com/)

**Step 5:** Create a new **Web Service** on Render, and give Render permission to access your Github repository.

Use the following values during creation: 

|                   |                                                |
| ----------------- | ---------------------------------------------- |
| **Environment**   | Python                                         |
| **Build Command** | `pip install -r requirements.txt`              |
| **Start Command** | `gunicorn -c gunicorn_config.py app:flask_app` |

**Step 6:** Build the application and debug 

Check the log provided by render to see the progress of building and deploying the application. 

_N.B. Some errors may arise due to conficting or unavailable dependency versions. To resolve these, check which dependency has an issue in the build logs and edit that dependency in the requirements.txt file to follow the recommendations provided in the logs and commit the changes to your repo._

_To reflect the changes on render, go to your render dashboard and click on the application. Click on the button labeled "Manual Deploy" on the top right corner and select "Deploy latest commit". Render will start building and deploying the app._

**Step 7:** Open the web application and test it. 

Upon successful deployment. Go to your render dashboard and click on the application. The application link is found in the top right of the page. 


## **Team Contributions**

| List | Name             | Work Contribution Percentage | Comment                        |
| -----|----------------- | ---------------------------- | ------------------------------ |
| 1    | Clare Kanja      | 20%                          |                                |
| 2    | Marion Maina     | 20%                          |                                |
| 3    | Maxine Beni      | 20%                          |                                |
| 4    | Melissa Giramata | 20%                          |                                |
| 5    | Nicole Moyo      | 20%                          |                                |
